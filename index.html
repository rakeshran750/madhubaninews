<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>News Slider</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Swiper JS CDN -->
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

  <script>
    const newsData = [
      {
        "_id": {
          "$oid": "6834ab4d461417127973aef2"
        },
        "title": "बिजली का कनेक्शन समय पर मिले तो सुधरेगी खेती और बढ़ेगा व्यवसाय",
        "description": "शहर के नए परिसीमन में किसानों और व्यवसायियों को बिजली कनेक्शन प्राप्त करने में काफी परेशानियों का सामना करना पड़ रहा है। जितवारपुर गांव के पास बोरिंग कनेक्शन के लिए एक वर्ष से प्रयासरत किसान अब खेती...",
        "image": "https://www.livehindustan.com/lh-img/smart/img/2025/05/26/256x144/MADHU_1054944_1748262429085.JPG",
        "__v": 0,
        "createdAt": {
          "$date": "2025-05-26T17:56:29.622Z"
        },
        "updatedAt": {
          "$date": "2025-05-26T17:56:29.622Z"
        }
      },
      {
        "_id": {
          "$oid": "6834ab4d461417127973aef3"
        },
        "title": "सम्मान समारोह में दर्जनों छात्र सम्मानित",
        "description": "मधवापुर के साहरघाट में शिक्षाविदों ने रविवार को 'विद्यार्थी प्रतिभा सम्मान समारोह 2025' का आयोजन किया। इस अवसर पर मैट्रिक और इंटरमीडिएट में अव्वल छात्रों को सम्मानित किया गया। मुख्य अतिथि रवींद्र...",
        "image": "https://www.livehindustan.com/lh-img/uploadimage/library/2020/10/29/16_9/16_9_4/default-image256x144.jpg",
        "__v": 0,
        "createdAt": {
          "$date": "2025-05-26T17:56:29.627Z"
        },
        "updatedAt": {
          "$date": "2025-05-26T17:56:29.627Z"
        }
      },
      {
        "_id": {
          "$oid": "6834ab4d461417127973aef4"
        },
        "title": "800 मीटर दौड़ में रौशन व आयुषी अव्वल",
        "description": "झंझारपुर के कैथिनिया स्कूल में बिहार राज्य खेल प्रतिमा खोज 'मशाल कार्यक्रम 2024-25' के तहत संकुल स्तरीय प्रतियोगिता आयोजित की गई। विभिन्न खेलों में छात्र-छात्राओं ने भाग लिया। विजेताओं को मेडल और...",
        "image": "https://www.livehindustan.com/lh-img/uploadimage/library/2020/10/29/16_9/16_9_4/default-image256x144.jpg",
        "__v": 0,
        "createdAt": {
          "$date": "2025-05-26T17:56:29.627Z"
        },
        "updatedAt": {
          "$date": "2025-05-26T17:56:29.627Z"
        }
      }
    ];
  </script>

  <style>
    /* Ensure full height of swiper */
    html,
    body {
      height: 100%;
      margin: 0;
      overflow: hidden;
      /* Prevents bottom scroll */
    }

    .swiper-container {
      height: 90%;
      /* Full screen height */
      overflow: hidden;
      /* Prevents showing scrollbars */
    }

    .swiper-slide {
      height: 90%;
      /* Ensure each slide takes full height */
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Make the image cover the entire card and scale it properly */
    .swiper-slide img {
      object-fit: cover;
      width: 100%;
    }
  </style>
</head>

<body class="h-screen flex flex-col">
  <header class="h-16 bg-blue-600 text-white flex items-center justify-center">
    <nav
      class="bg-white dark:bg-gray-900 fixed w-full z-20 top-0 start-0 border-b border-gray-200 dark:border-gray-600">
      <div class="max-w-screen-xl flex flex-wrap items-center justify-center mx-auto p-4">
        <a href="https://flowbite.com/" class="flex items-center space-x-3 rtl:space-x-reverse">
          <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Madhubnai News</span>
        </a>
      </div>
    </nav>
  </header>

  <!-- Swiper Slider Container -->
  <main class="h-full p-4">
    <div class="swiper-container mx-auto my-8">
      <div class="swiper-wrapper flex h-[100%] items-center" id="contentContainer">

      </div>
    </div>
  </main>

  <div
    class="fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600">
    <div class="grid h-full max-w-lg grid-cols-4 mx-auto font-medium">
      <button type="button"
        class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group">
        <svg class="w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"
          aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
          <path
            d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
        </svg>
        <span
          class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Home</span>
      </button>
      <button type="button"
        class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group">
        <svg class="w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"
          aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
          <path d="M11.074 4 8.442.408A.95.95 0 0 0 7.014.254L2.926 4h8.148ZM9 13v-1a4 4 0 0 1 4-4h6V6a1 1 0 0 0-1-1H1a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1v-2h-6a4 4 0 0 1-4-4Z" />
          <path d="M19 10h-6a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1Zm-4.5 3.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM12.62 4h2.78L12.539.41a1.086 1.086 0 1 0-1.7 1.352L12.62 4Z" />
        </svg>
        <span
          class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Wallet</span>
      </button>
      <button type="button"
        class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group">
        <svg class="w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"
          aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 12.25V1m0 11.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M4 19v-2.25m6-13.5V1m0 2.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M10 19V7.75m6 4.5V1m0 11.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM16 19v-2" />
        </svg>
        <span
          class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Settings</span>
      </button>
      <button type="button"
        class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group">
        <svg class="w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"
          aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
          <path
            d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z" />
        </svg>
        <span
          class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Profile</span>
      </button>
    </div>
  </div>

  <!-- Swiper Initialization -->
  <script>
    const swiper = new Swiper('.swiper-container', {
      loop: true,
      spaceBetween: 0,
      // No space between slides
      slidesPerView: 1,
      // Show one card per slide
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      direction: 'vertical',
      // Vertically swipe for full height display
    });

    // Populate the swiper with news items
// Wait for DOM to load
  document.addEventListener('DOMContentLoaded', () => {
    fetch('http://192.168.1.5:3000/api/today/data')
      .then(response => response.json())
      .then(data => {
        // Assuming data is an array of news items
        const swiperWrapper = document.querySelector('.swiper-wrapper');

        if (!swiperWrapper) return;

        // Clear existing content (if any)
        swiperWrapper.innerHTML = '';

        // Create swiper slides dynamically
        data.forEach(item => {
          const slide = document.createElement('div');
          slide.className = 'swiper-slide w-full h-full px-4 py-2 box-border flex items-center justify-center';

          slide.innerHTML = `
            <div class="w-full max-w-md flex flex-col rounded-2xl overflow-hidden shadow-lg bg-white border border-gray-200 flex-1">
              <img class="w-auto h-85 sm:h-60 object-cover" src="${item.image}" alt="News Image" />
              <div class="p-4 flex-1 overflow-y-auto">
                <h2 class="text-3xl sm:text-3xl mt-4 md:text-2xl font-semibold text-gray-800 mb-2 leading-snug">${item.title}</h2>
                <p class="text-gray-600 mt-3 text-xl sm:text-base">${item.description}</p>
                <span class="bg-gray-100 text-gray-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-gray-700 dark:text-gray-300">और पढ़े..</span>
                <p class="text-xs text-gray-400 mt-2 mb-4">${new Date(item.createdAt.$date).toLocaleString('hi-IN')}</p>
              </div>
            </div>
          `;

          swiperWrapper.appendChild(slide);
        });

        // After adding slides, update swiper (assuming swiper is initialized already)
        if (window.swiper) {
          window.swiper.update();
        }
      })
      .catch(err => {
        console.error('Failed to load news data:', err);
      });
  });
  </script>
</body>

</html>
